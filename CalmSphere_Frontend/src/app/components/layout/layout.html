<div class="layout-wrapper">
    <!-- 1. BARRA DE NAVEGACIÃ“N (Siempre visible) -->
    <app-menu></app-menu>

    <!-- 2. CONTENIDO DEL DASHBOARD / INICIO -->
    <!-- Se oculta automÃ¡ticamente cuando navegas a /usuarios, /eventos, etc. -->
    <div class="dashboard-content" *ngIf="showDashboard()">
        
        <!-- BANNER DE BIENVENIDA -->
        <div class="welcome-card">
            <div class="text-section">
                <h1>Hola, bienvenido a <span class="brand">CalmSphere</span></h1>
                <p>
                    EstÃ¡s conectado como <span class="role-badge">{{ roles }}</span>.
                    <br>
                    Â¿QuÃ© te gustarÃ­a gestionar el dÃ­a de hoy?
                </p>
            </div>
            <!-- Logo flotante decorativo -->
            <img src="assets/img/logoCalmSphere.png" alt="Logo" class="floating-logo">
        </div>

        <!-- GRID DE ACCIONES RÃPIDAS (LÃ³gica de roles) -->
        <div class="actions-grid">

            <!-- PACIENTE -->
            <ng-container *ngIf="isPaciente()">
                <a routerLink="/eventos/news" class="card-action">
                    <div class="icon-circle purple">ğŸ“…</div>
                    <h3>Agendar Cita</h3>
                    <p>Reserva una sesiÃ³n con un profesional.</p>
                </a>
                <a routerLink="/eventos" class="card-action">
                    <div class="icon-circle green">ğŸ“‹</div>
                    <h3>Mis Citas</h3>
                    <p>Revisa tu historial de sesiones.</p>
                </a>
                <a routerLink="/metodopagos" class="card-action">
                    <div class="icon-circle orange">ğŸ’³</div>
                    <h3>Mis Pagos</h3>
                    <p>Gestiona tus mÃ©todos de pago.</p>
                </a>
            </ng-container>

            <!-- PROFESIONAL -->
            <ng-container *ngIf="isProfesional()">
                <a routerLink="/eventos" class="card-action">
                    <div class="icon-circle purple">ğŸ‘¨â€âš•ï¸</div>
                    <h3>Mi Agenda</h3>
                    <p>Revisa tus pacientes del dÃ­a.</p>
                </a>
                <a routerLink="/disponibilidades" class="card-action">
                    <div class="icon-circle blue">â°</div>
                    <h3>Disponibilidad</h3>
                    <p>Configura tus horarios de atenciÃ³n.</p>
                </a>
            </ng-container>

            <!-- ADMIN -->
            <ng-container *ngIf="isAdmin()">
                <a routerLink="/usuarios" class="card-action">
                    <div class="icon-circle orange">ğŸ‘¥</div>
                    <h3>Usuarios</h3>
                    <p>Gestionar base de datos.</p>
                </a>
                <a routerLink="/roles" class="card-action">
                    <div class="icon-circle blue">ğŸ›¡ï¸</div>
                    <h3>Roles</h3>
                    <p>Configurar permisos.</p>
                </a>
                <!-- Agrega mÃ¡s tarjetas de admin si necesitas -->
            </ng-container>

        </div>
    </div>

    <!-- 3. RENDERIZADOR DE RUTAS HIJAS (Usuarios, Eventos, Roles, etc.) -->
    <!-- Esto se llena cuando showDashboard() es falso -->
    <div class="router-container">
        <router-outlet></router-outlet>
    </div>
</div>