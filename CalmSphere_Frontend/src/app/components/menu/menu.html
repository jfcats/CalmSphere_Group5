<div class="container">
  @if(verificar()){
  <mat-toolbar class="custom-toolbar">

    <div style="display: flex; align-items: center; margin-right: 20px; cursor: pointer;" [routerLink]="['/inicio']">
        <img src="assets/img/logoCalmSphere.png" alt="Logo" style="height: 30px; margin-right: 10px;">
        <span style="font-weight: 700; letter-spacing: 0.5px; font-size: 1.1rem;">CalmSphere</span>
    </div>

    <button mat-button [routerLink]="['/inicio']" class="btn-rojo">
      <mat-icon>home</mat-icon>Inicio
    </button>

    @if(isAdmin()){
      <button mat-button class="btn-rojo" [matMenuTriggerFor]="menuUsuarios">
        <mat-icon>group</mat-icon>Usuarios
      </button>
      <button mat-button class="btn-rojo" [matMenuTriggerFor]="menuRoles">
        <mat-icon>admin_panel_settings</mat-icon>Roles
      </button>
      <button mat-button class="btn-rojo" routerLink="/reportes">
        <mat-icon>bar_chart</mat-icon>Reportes
      </button>
      <button mat-button class="btn-rojo" [matMenuTriggerFor]="menuEventos">
        <mat-icon>event</mat-icon>Agenda
      </button>
    }

    @if(isProfesional()){
      <button mat-button class="btn-rojo" routerLink="/eventos">
        <mat-icon>calendar_month</mat-icon> Mi Agenda
      </button>
      
      <button mat-button class="btn-rojo" [matMenuTriggerFor]="menuServicio">
        <mat-icon>medical_services</mat-icon> Mi Servicio
      </button>

      <button mat-button class="btn-rojo" [matMenuTriggerFor]="menuDisponibilidad">
        <mat-icon>schedule</mat-icon>Disponibilidad
      </button>
    }

    @if(isPaciente()){
      <button mat-button class="btn-rojo" [matMenuTriggerFor]="menuEventos">
        <mat-icon>event</mat-icon>Citas
      </button>

      <button mat-button class="btn-rojo" [matMenuTriggerFor]="menuMetodoPago">
        <mat-icon>credit_card</mat-icon>Pagos
      </button>
    }

    <span class="spacer"></span>

    <button mat-button class="btn-user" [matMenuTriggerFor]="menuSalir">
      <mat-icon>account_circle</mat-icon>
      <span class="user-label">Mi Cuenta</span>
    </button>

  </mat-toolbar>
  }

  <mat-menu #menuUsuarios="matMenu">
    <button mat-menu-item routerLink="/usuarios"><mat-icon>list</mat-icon>Listar</button>
    <button mat-menu-item routerLink="/usuarios/news"><mat-icon>add</mat-icon>Registrar</button>
  </mat-menu>

  <mat-menu #menuRoles="matMenu">
    <button mat-menu-item routerLink="/roles"><mat-icon>list</mat-icon>Listar</button>
    <button mat-menu-item routerLink="/roles/news"><mat-icon>add</mat-icon>Registrar</button>
  </mat-menu>

  <mat-menu #menuDisponibilidad="matMenu">
    <button mat-menu-item routerLink="/disponibilidades"><mat-icon>list</mat-icon>Listar</button>
    <button mat-menu-item routerLink="/disponibilidades/news"><mat-icon>add</mat-icon>Registrar</button>
  </mat-menu>

  <mat-menu #menuMetodoPago="matMenu">
    <button mat-menu-item routerLink="/metodopagos"><mat-icon>list</mat-icon>Listar</button>
    <button mat-menu-item routerLink="/metodopagos/news"><mat-icon>add</mat-icon>Registrar</button>
  </mat-menu>

  <mat-menu #menuEventos="matMenu">
    <button mat-menu-item routerLink="/eventos"><mat-icon>list</mat-icon>Listar</button>
    <button mat-menu-item routerLink="/eventos/news"><mat-icon>add</mat-icon>Registrar</button>
  </mat-menu>

  <mat-menu #menuServicio="matMenu">
      <button mat-menu-item routerLink="/profesional-servicios"><mat-icon>list</mat-icon>Listar</button>
      <button mat-menu-item routerLink="/profesional-servicios/news"><mat-icon>add</mat-icon>Registrar</button>
  </mat-menu>
  
  <mat-menu #menuSalir="matMenu">
    <div style="padding: 10px 16px; border-bottom: 1px solid #eee; margin-bottom: 5px;">
        <small style="color: #666; display: block;">Roles actuales</small>
        <span style="font-weight: bold; color: #333; font-size: 0.8rem;">
            {{ roles.join(' | ') }}
        </span>
    </div>
    <button mat-menu-item routerLink="/landing" (click)="cerrar()">
      <mat-icon>logout</mat-icon>Cerrar sesi√≥n
    </button>
  </mat-menu>
</div>